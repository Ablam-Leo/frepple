===============================
Make-to-order and make-to-stock
===============================

FrePPLe can model complex supply chains with make-to-order, make-to-stock
and configure-to-order characteristics.

In this example we demonstrate some typical examples:

* The item A has a **complete make-to-stock** supply path. Its subassembly
  and raw materials are all planned in make-to-stock mode.
  
* The item B has a **complete make-to-order** supply path. All of the 
  subassemblies and raw materials are specific to the sales order.
  
* The item C has a **configure-to-order** supply path. It combines 
  make-to-order manufacturing operations for the final production 
  operations with some make-to-stock components and subassemblies.
  
* | The item D shows **serialized production**. The end items are managed
    and planned in make-to-stock mode, but the manufacturing operations
    are planned in make-to-order mode with serialized production batches
    that move between production stages.
  | This is a common scenario in pharmaceutical or chemical industries
    where full traceability of the production is important.
    
* The item E shows an **attribute-based** supply path. The finished item
  can be sold in different colors (or size, or any other attribute) and the
  supply paths per color need to kept seperate.
  
`Check this feature on a live example <https://demo.frepple.com/make-to-order/data/input/manufacturingorder/>`_

Here is a step by step guide to explore the example:

* | At first sight the supply paths of all products look identical:   
    `supply path for item A <https://demo.frepple.com/make-to-order/supplypath/item/A%20-%20end%20item/>`_
    `supply path for item B <https://demo.frepple.com/make-to-order/supplypath/item/B%20-%20end%20item/>`_
    `supply path for item C <https://demo.frepple.com/make-to-order/supplypath/item/C%20-%20end%20item/>`_
    `supply path for item D <https://demo.frepple.com/make-to-order/supplypath/item/D%20-%20end%20item/>`_
    `supply path for item E <https://demo.frepple.com/make-to-order/supplypath/item/D%20-%20end%20item/>`_

  .. image:: _images/make-to-order-1.png
     :height: 812 px
     :width: 1894 px
     :scale: 100 %  
     :alt: Supply path
      
* | The item table has the main difference to control the behavior. 
    Check out how the type field varies for the cases A through E. 
  | The type is set to "make to order" for all items where inventory, production and
    consumption is managed per batch. Material of different batches is planned 
    seperately and can't be mixed.
  | The type is set to to "make to stock" when the inventory, production and is
    managed aggregated across all demands. 

  .. image:: _images/make-to-order-2.png
     :height: 843 px
     :width: 1891 px
     :scale: 100 %  
     :alt: Supply path
  
* You can also find differences in some other input tables:

  * The batch field in the `sales order table <https://demo.frepple.com/make-to-order/data/input/demand/>`_
    specifies which items can be used to meet the demand. Cases B, C and E have batch information
    on the sales orders that needs to be passed on to manufacturing orders and purchase orders.

  * The batch field in the `buffer table <https://demo.frepple.com/make-to-order/data/input/buffer/>`_
    allows to specifies to specify stocks by batch.
    
* The item A is a make-to-stock product. The manufacturing orders and purchase orders
  that are generated to meet the demand all have an empty batch field.
  
  add image
  
* | Item B is a make-to-order product. The batch number specified on the demands is 
    automatically propagated to all manufacturing orders and purchase orders in the
    supply path.
  | Material cannot be shared/exchanged between batches. In the buffer table you can 
    see there is inventory of component 1, but it can't be used because it's reserved
    for another order "B - order 3". (Excercise: change the batch number to one of the 
    sales orders of this end item, regenerate the plan, and verify that this time the
    stock can be used and we have one less purchase order).

  add image
  
* | Item C is a configure-to-order product.
  | The end item and the assembly are produced in make-to-order mode. The batch 
    information is propagated from the sales orders to the manufacturing orders
    and the purchase orders of component 1.
  | The other parts of the supply path are planned in make-to-stock mode. No batch
    information is seen on these purchase orders and manufacturing orders.
  
  add image
  
* | Item D is a make-to-stock product. The subassembly, assembly and end item 
    operations are linked to each other with a batch number that is automatically
    generated by frePPLe.

  add image
  
* | Item E is an end item that is available in 2 colors: green and yellow.
  | The green version of item E has enough inventory, and no manufacturing orders
    or purchase orders are generated.
  | The inventory of the yellow item E is running low, and we need to launch another
    production batch. The batch field on the manufacturing order tells us the
    color of the item we need to produce.
  
  add image
